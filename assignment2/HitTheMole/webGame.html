<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Whac-a-mole</title>
    <style>
        .setTheme
        {
            text-align:center;
            background-color:lightsteelblue;
        }

    </style>

</head>
<body>
    <h1 style="text-align:center">Whac-a-mole game</h1>
    <div style="text-align:center">
        select level:
        <select id="selectForLevel">
            <option value="0">easy</option>
            <option value="1">medium</option>
            <option value="2">hard</option>
        </select>
        <span style="padding-left:8px">
            select a theme:
        </span>
        <select id="selectForTheme">
            <option>none</option>
            <option>basic</option>
            <option>advanced</option>
        </select>

        <input type="button" value="start game" onclick="startGame()" />
        <div id="myDiv">

        </div>
    </div>
    <script>
        EASY_SIZE = 3;
        MEDIUM_SIZE = 5;
        HARD_SIZE = 10;
        sizeTbl = [EASY_SIZE, MEDIUM_SIZE, HARD_SIZE]; //[3,5,10]
        img1 = document.createElement("img"); //mole
        img2 = document.createElement("img"); //mole after hit :)
        img1.width = "40";
        img1.src = "mole1.jpg";
        img2.width = "40";
        img2.src = "mole2.png";


        //function that start a new game, calls function that create the table and set the theme. 
        function startGame() {
            var divToDlt = document.getElementById("myDiv");
            divToDlt.parentElement.removeChild(divToDlt); //remove the current table.

            createBoardGame();
        }

        function createBoardGame() {
            var div = document.createElement("div");
            div.id = "myDiv"
            var selc1 = document.getElementById("selectForLevel");
            var lvl = selc1.options[selc1.selectedIndex].value;
            var selc2 = document.getElementById("selectForTheme");
            var theme = selc2.options[selc2.selectedIndex].value;
            tbl = document.createElement("table");
            tbl.id = "myTable";
            selectedSize = sizeTbl[lvl]; // selectedSize = 3 or 5 or 10 depending on the difficulty selected

            for (var i = 0; i < selectedSize; i++) {
                var tr = document.createElement("tr");
                tr.style.height = "42px";
                for (j = 0; j < selectedSize; j++) {
                    var th = document.createElement("th");
                    th.style.width = "42px";
                    if (theme != "none") {
                        if (theme == "basic") {
                            th.className = "setTheme";
                        }
                        else { //theme == advanced
                            if (i % 2 == 0) {
                                if (j % 2 == 0) {
                                    th.className = "setTheme";
                                }
                            }
                            else {
                                if (j % 2 != 0) {
                                    th.className = "setTheme";
                                }
                            }
                        }
                    } // if statement to set the theme
                        tr.append(th);
                    }
                    tbl.append(tr);
                }

                tbl.border = "1";
                tbl.cellSpacing = "6px";
                tbl.align = "center";
                div.append(tbl);
            document.body.append(div);
            runGame();
        }

        function runGame() {
            var randNum1 = Math.floor((10 * Math.random()) % selectedSize); //rand int num between 0 to the selectedSize num.
            var randNum2 = Math.floor((10 * Math.random()) % selectedSize); //rand int num between 0 to the selectedSize num.
            var cellWithMole = tbl.rows[randNum1].cells[randNum2];
            cellWithMole.appendChild(img1);
        }
    </script>
</body>
</html>